<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="/assets/favicon.png"> <script src="https://kit.fontawesome.com/8106cce1f2.js" crossorigin=anonymous ></script> <title>Some things I&#39;ve built</title> <header> <div class=blog-name ><a href="/">Matt Bauman</a></div> <nav> <ul> <li><a href="/">Home</a> <li><a href="/research/">Research+</a> <li><a href="/projects/">Projects</a> <li><a href="/notes/">Notes</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h1 id=some_things_ive_built ><a href="#some_things_ive_built">Some things I&#39;ve built</a></h1> <div class=franklin-toc ><ol><li><a href="#us_county-level_covid-19_dashboard">US County-Level Covid-19 Dashboard</a><li><a href="#guerrilla_traffic_speed_monitoring_to_inform_and_push_for_change">Guerrilla traffic speed monitoring to inform and push for change</a></ol></div> <h2 id=us_county-level_covid-19_dashboard ><a href="#us_county-level_covid-19_dashboard">US County-Level Covid-19 Dashboard</a></h2> <p><a href="https://github.com/mbauman/CovidCountyDash.jl"><i class="fab fa-github" title="Source code"></i> Source &#40;https://github.com/mbauman/CovidCountyDash.jl&#41;</a></p> <p><a href="https://covid-county-dash.herokuapp.com"><i class="fas fa-external-link-alt"></i> Website &#40;https://covid-county-dash.herokuapp.com&#41;</a></p> <p>Back in the Spring of 2020, I wanted a quick and easy way to compare virus prevalence between specific <em>counties</em>. The NYT built and has maintained a robust dataset that includes all counties, and they generate <a href="https://www.nytimes.com/interactive/2020/us/coronavirus-us-cases.html">lots of their graphics</a> from it, but their graphs aren&#39;t terribly interactive. At the same time, I wanted to test out the new <a href="https://dash.plotly.com">Plotly Dash</a> integration &#40;which was <a href="https://github.com/waralex/Dashboards.jl">Dashboards.jl</a> at the time and is now officially supported as <a href="https://github.com/plotly/dash.jl">Dash.jl</a>&#41;. Thus was born <a href="https://github.com/mbauman/CovidCountyDash.jl">CovidCountyDash.jl</a>:</p> <p><img src="/assets/projects/covid-county-gif.gif" alt="example screenshot from covid-county-dash.herokuapp.com" /></p> <p>I&#39;ve slowly continued iterating on it since then; some recent features include the ability to automatically choose states &#40;by region&#41; or counties &#40;by population percentile&#41;.</p> <h2 id=guerrilla_traffic_speed_monitoring_to_inform_and_push_for_change ><a href="#guerrilla_traffic_speed_monitoring_to_inform_and_push_for_change">Guerrilla traffic speed monitoring to inform and push for change</a></h2> <p><a href="https://github.com/mbauman/TrafficSpeed"><i class="fab fa-github" title="Source code"></i> Source &#40;https://github.com/mbauman/TrafficSpeed&#41;</a></p> <p><a href="https://www.post-gazette.com/news/transportation/2015/11/19/Pitt-student-s-study-on-Oakland-traffic-patterns-sparks-citywide-safety-effort/stories/201511180023"><i class="far fa-newspaper"></i> Reporting in Pittsburgh Post-Gazette</a></p> <p>October 2015 was a tragic month for the Oakland community in Pittsburgh. Two pedestrians and a cyclist were killed in car crashes within four days of each other. While the collisions are still under investigation, I have a strong suspicion that speed was a major factor in both. The survivability of a crash decreases very dramatically as speed increases from 20 to 40 miles per hour <a href="http://humantransport.org/sidewalks/SpeedKills.htm">1</a>.</p> <p>There&#39;s been a number of calls for traffic calming measures along Forbes Avenue, which is one of the few routes east for both cars and cyclists. I was curious what the current average traffic speed is, and if we could strengthen these calls with some real data. Even though there&#39;s no public data and I don&#39;t have a radar gun, it&#39;s possible to collect this myself with just a high vantage point, a cell phone video, and basic computer vision techniques.</p> <p>The stretch of Forbes Avenue that I&#39;d like to focus on is between Pitt and CMU:</p> <p><img src="/assets/projects/overviewmap.png" alt="Map of Forbes Ave between Pitt and CMU" /></p> <p>It&#39;s here that the road and surrounding area &quot;opens up.&quot; The previous 8-10 blocks go through the tightly packed Oakland business district, with timed traffic lights &#40;matching the 25MPH speed limit&#41; at every intersection. Once you reach Schenley Plaza, though, the buildings recede away and there&#39;s a sense of freedom. I also believe that the timings of lights change at this point, too, allowing you to exceed 25MPH for the first time since the highway exit. Once you get to the Natural History museum, a fourth travel lane is added on the left and the right lane turns into an unmarked 20ft wide luxury lane. The right side of this lane is intended as a bus stop, but the lack of markings makes it a bit of a free-for-all when there aren&#39;t any busses. I believe that all these things contribute to an overall increase in speed.</p> <p>I don&#39;t have a radar gun, but I do have a cell phone and access to the Cathedral of Learning. At about 3:15pm on Friday afternoon, I recorded 10 minutes of traffic on Forbes Ave. The <a href="https://youtu.be/R8jttmhTTUE">full movie is available on YouTube</a>. Here&#39;s a snippet of what this looked like:</p> <p><img src="/assets/projects/movieclip.gif" alt="Video of cars on Forbes Ave from the Cathedral of Learning" /></p> <p>You can see Dippy the Dino on the top left, with Schenley Plaza on the top right, and the intersection with Schenley Drive Extension in between. Unfortunately the trees obscure the section of the road where I think traffic moves the fastest, but there&#39;s a great view of about 300ft of the road. I rotated and cropped the image, used basic image processing techniques to detect objects and their locations, converted pixels to real distances, and computed their speeds. The full analysis is documented in <a href="https://nbviewer.jupyter.org/github/mbauman/TrafficSpeed/blob/master/TrafficSpeed.ipynb">this IJulia/Jupyter notebook</a> as a mini-tutorial. It worked surprisingly well:</p> <p><img src="/assets/projects/processedclip.gif" alt="Video of cars on Forbes Ave from the Cathedral of Learning annotated with bounding boxes and speeds" /></p> <p>Now we can see how fast traffic can move&#33; See the <a href="https://youtu.be/jwVxQ7OcNyk">full ten minutes of annotated traffic</a> at YouTube. I&#39;ve exported the detected positions and speeds of all the vehicles as a CSV file, also posted within this repository. Here&#39;s the maximum speeds of all vehicles which got tracked for more than two seconds:</p> <p><img src="/assets/projects/max_speeds.png" alt="Histogram of maximum speeds" /></p> <p>Two drivers were caught going over 40 miles per hour in this 25MPH zone. Ten others were between 35-40 miles per hour. And <a href="https://www.youtube.com/watch?v&#61;jwVxQ7OcNyk#t&#61;46">one oblivious driver ran the red light</a>. Assuming this random 10-minute segment is representative of afternoon traffic, one out of every twenty vehicles exceeds 34 MPH &#40;bootstrapped 95&#37; confidence interval is 33-37 MPH&#41;. Were any of these drivers to hit a pedestrian or cyclist, regardless of the fault, there is a significantly greater chance of serious harm or death than if they were following the speed limit. This is strong evidence that the university and city need to work harder at reducing speeds throughout this busy corridor to keep students, pedestrians, cyclists, and drivers alike safe. Working towards comprehensive solutions over the next two to three years is a great goal, but there are small steps that they can take today to make this street a safer place. I think a great first step will be to increase speed awareness with more signs and enforcement.</p> <p></p> <div class=page-foot > <div class=copyright > &copy; Matt Bauman. Last modified: November 07, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div>